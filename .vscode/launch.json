{
  // Use IntelliSense to learn about possible attributes.
  // Hover to view descriptions of existing attributes.
  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug OpenEFI",
      "cwd": "${workspaceRoot}",
      "executable": "${workspaceFolder}/target/thumbv7em-none-eabihf/debug/open_efi",
      "svdFile": "${workspaceFolder}/STM32F407.svd",

      "request": "attach",
      "type": "cortex-debug",
      "servertype": "bmp",
      "interface": "swd",
      "device": "STM32F407",

      "BMPGDBSerialPort": "/dev/ttyACM0",
      "runToMain": true,
      "configFiles": ["debug.gdb"],
      "preLaunchTask": "Cargo build",
      "preLaunchCommands": ["set async-remote false", "set remote-timeout 20"],
      "preRestartCommands": ["enable breakpoint", "break main"],
      "postLaunchCommands": ["monitor arm semihosting enable"]
    }
  ]
}
